(()=>{"use strict";var e=document.querySelector(".popup_edit-profile"),t=document.querySelector(".form_edit-profile"),o=document.querySelector(".form__input_type_firstname"),n=document.querySelector(".form__input_type_profession"),r=document.querySelector(".profile__title-firstname"),i=document.querySelector(".profile__subtitle-profession"),c=document.querySelector(".button_type_edit"),u=document.querySelector(".popup_add-elements"),a=document.querySelector(".form__input_type_town"),l=document.querySelector(".form__input_type_townlink"),s=document.querySelector(".button_type_add"),d=document.querySelector(".form_add-elements"),f=document.querySelector(".popup_overview"),m=document.querySelector(".overview__image"),p=document.querySelector(".overview__caption"),_=document.querySelector("template"),v=document.querySelector(".elements");function y(e){e.classList.add("popup_opened"),document.addEventListener("keydown",E),document.addEventListener("click",h)}function b(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",E),document.removeEventListener("click",h)}function q(e){e.target.classList.toggle("button_type_like_on")}function x(e){e.target.closest(".elements__element").remove()}function S(e,t){var o=_.content.cloneNode(!0),n=o.querySelector(".elements__foto");return n.setAttribute("alt",e),n.setAttribute("src",t),n.addEventListener("click",w),o.querySelector(".elements__title").textContent=e,o.querySelector(".button_type_like").addEventListener("click",q),o.querySelector(".button_type_delete-element").addEventListener("click",x),o}function w(e){var t=e.target;m.setAttribute("src",t.src),m.setAttribute("alt",t.alt),p.textContent=t.alt,y(f)}document.querySelectorAll(".button_type_close").forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return b(t)}))})),c.addEventListener("click",(function(){o.value=r.textContent,n.value=i.textContent,y(e)})),t.addEventListener("submit",(function(t){t.preventDefault(),r.textContent=o.value,i.textContent=n.value,b(e)})),s.addEventListener("click",(function(){return y(u)})),d.addEventListener("submit",(function(e){e.preventDefault(),v.prepend(S(a.value,l.value)),d.reset(),b(u)})),[{name:"Собакен",link:"https://images.unsplash.com/photo-1477884213360-7e9d7dcc1e48?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"},{name:"Человекен",link:"https://images.unsplash.com/photo-1604145559206-e3bce0040e2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80"},{name:"Джо",link:"https://c.tenor.com/psoPTJCAoJYAAAAC/joey-tribbiani-brain.gif"},{name:"Байкер",link:"https://images.unsplash.com/photo-1658064273986-844330ff8870?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80"},{name:"Яндекс беспилотники",link:"https://images.unsplash.com/photo-1625924305476-d8f96c560c21?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80"},{name:"LFCSFS:FVCS:NCSN:VCENsv;rb",link:"https://images.unsplash.com/photo-1553531384-411a247ccd73?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=764&q=80"}].forEach((function(e){return v.append(S(e.name,e.link))}));var L="popup_opened",A=function(){return document.querySelector(".".concat(L))};function E(e){"Escape"===e.key&&b(A())}function h(e){e.target.classList.contains(L)&&b(A())}var k=document.querySelector(".button_type_avatar"),M=document.querySelector(".popup_edit-avatar"),g=document.querySelector(".form_edit-avatar");k.addEventListener("click",(function(){y(M)})),g.addEventListener("submit",(function(e){e.preventDefault(),b(M)}));var C=document.querySelector(".form"),H=C.querySelector(".form__input-error"),D=(C.querySelector(".".concat(H.id,"-error")),function(e,t,o){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.add("form__input_error"),n.textContent=o,n.classList.add("form__input-error_active")}),B=function(e,t){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("form__input_error"),o.classList.remove("form__input-error_active"),o.textContent=""};function G(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove("button_inactive"),t.removeAttribute("disabled",!0)):(t.classList.add("button_inactive"),t.setAttribute("disabled",!0))}Array.from(document.querySelectorAll(".popup__box")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(e.querySelectorAll(".form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".form__input")),o=e.querySelector(".".concat("button_type_save"));G(t,o),t.forEach((function(n){n.addEventListener("input",(function(){V(e,n),G(t,o)}))}))}(e)}))}));var V=function(e,t){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?B(e,t):D(e,t,t.validationMessage),t.validity.valid?B(e,t):D(e,t,t.validationMessage)}})();