(()=>{"use strict";var e=document.querySelector(".popup_edit-profile"),t=document.querySelector(".form_edit-profile"),o=document.querySelector(".form__input_type_firstname"),n=document.querySelector(".form__input_type_profession"),r=document.querySelector(".profile__title-firstname"),i=document.querySelector(".profile__subtitle-profession"),c=document.querySelector(".button_type_edit"),u=document.querySelector(".popup_add-elements"),a=document.querySelector(".form__input_type_town"),l=document.querySelector(".form__input_type_townlink"),s=document.querySelector(".button_type_add"),d=document.querySelector(".form_add-elements"),f=(document.querySelector(".popup_overview"),document.querySelector(".overview__image"),document.querySelector(".overview__caption"),document.querySelector("template")),m=document.querySelector(".elements"),p=document.querySelector(".button_type_avatar"),_=document.querySelector(".popup_edit-avatar"),v=document.querySelector(".form_edit-avatar");function y(e){e.classList.add("popup_opened"),document.addEventListener("keydown",S),document.addEventListener("click",w)}function b(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",S),document.removeEventListener("click",w)}var q="popup_opened",x=function(){return document.querySelector(".".concat(q))};function S(e){"Escape"===e.key&&b(x())}function w(e){e.target.classList.contains(q)&&b(x())}function L(e){var t=e.target;overviewImage.setAttribute("src",t.src),overviewImage.setAttribute("alt",t.alt),overviewCaption.textContent=t.alt,y(popupOverview)}function A(e){e.target.classList.toggle("button_type_like_on")}function E(e){e.target.closest(".elements__element").remove()}function h(e,t){var o=f.content.cloneNode(!0),n=o.querySelector(".elements__foto");return n.setAttribute("alt",e),n.setAttribute("src",t),n.addEventListener("click",L),o.querySelector(".elements__title").textContent=e,o.querySelector(".button_type_like").addEventListener("click",A),o.querySelector(".button_type_delete-element").addEventListener("click",E),o}p.addEventListener("click",(function(){y(_)})),v.addEventListener("submit",(function(e){e.preventDefault(),b(_)})),[{name:"Собакен",link:"https://images.unsplash.com/photo-1477884213360-7e9d7dcc1e48?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"},{name:"Человекен",link:"https://images.unsplash.com/photo-1604145559206-e3bce0040e2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80"},{name:"Джо",link:"https://c.tenor.com/psoPTJCAoJYAAAAC/joey-tribbiani-brain.gif"},{name:"Байкер",link:"https://images.unsplash.com/photo-1658064273986-844330ff8870?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80"},{name:"Яндекс беспилотники",link:"https://images.unsplash.com/photo-1625924305476-d8f96c560c21?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80"},{name:"LFCSFS:FVCS:NCSN:VCENsv;rb",link:"https://images.unsplash.com/photo-1553531384-411a247ccd73?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=764&q=80"}].forEach((function(e){return m.append(h(e.name,e.link))}));var k=document.querySelector(".form"),M=k.querySelector(".form__input-error"),g=(k.querySelector(".".concat(M.id,"-error")),function(e,t,o){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.add("form__input_error"),n.textContent=o,n.classList.add("form__input-error_active")}),C=function(e,t){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("form__input_error"),o.classList.remove("form__input-error_active"),o.textContent=""};function H(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove("button_inactive"),t.removeAttribute("disabled",!0)):(t.classList.add("button_inactive"),t.setAttribute("disabled",!0))}Array.from(document.querySelectorAll(".popup__box")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(e.querySelectorAll(".form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".form__input")),o=e.querySelector(".".concat("button_type_save"));H(t,o),t.forEach((function(n){n.addEventListener("input",(function(){D(e,n),H(t,o)}))}))}(e)}))}));var D=function(e,t){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?C(e,t):g(e,t,t.validationMessage),t.validity.valid?C(e,t):g(e,t,t.validationMessage)};document.querySelectorAll(".button_type_close").forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return b(t)}))})),c.addEventListener("click",(function(){o.value=r.textContent,n.value=i.textContent,y(e)})),t.addEventListener("submit",(function(t){t.preventDefault(),r.textContent=o.value,i.textContent=n.value,b(e)})),s.addEventListener("click",(function(){return y(u)})),d.addEventListener("submit",(function(e){e.preventDefault(),m.prepend(h(a.value,l.value)),d.reset(),b(u)}))})();